這部分是Segue部分code,我把跟simulation有關的code抓過來
主要是Video這資料夾裡面寫了很多封裝ffmpeg進class的code
simulation主要就是Create 裡面定義的video object然後call封裝好的ffmpeg function來做real encoding
RL 互動的環境目前是寫在encoding_env.py裡
收到RL的prediction
format 如下:
segments_keys_timestamps = [0.0, 5.0, 10.0, 20.75, 28.042, 33.042, 38.042, 47.709, 52.709, 56.084, 63.793000000000006, 68.793, 75.54400000000001, 79.96100000000001, 84.96100000000001, 91.42000000000002, 99.75400000000002, 103.92100000000002, 108.92100000000002, 112.67100000000002, 117.67100000000002, 120.88000000000002, 123.46400000000003, 126.88100000000003, 131.88100000000003, 136.88100000000003, 141.88100000000003, 146.38100000000003, 149.09000000000003, 154.09000000000003, 156.00700000000003, 160.84100000000004, 166.21700000000004, 168.00900000000004, 176.13500000000005, 180.51000000000005, 185.51000000000005, 189.34400000000005, 196.92900000000006, 204.18000000000006, 208.88900000000007, 213.80600000000007, 220.51500000000007, 226.26600000000008, 232.47500000000008, 237.47500000000008, 243.5180000000001, 248.5180000000001, 255.3520000000001, 259.5200000000001, 262.8540000000001, 270.3550000000001, 277.9390000000001, 284.7320000000001, 289.7320000000001, 297.1500000000001, 300.3590000000001, 305.2340000000001, 312.52600000000007, 317.23500000000007, 319.23500000000007, 322.1940000000001, 323.73600000000005, 328.73600000000005, 334.36100000000005, 339.778, 344.778, 349.778, 354.778, 359.778, 364.778, 369.778, 375.404, 381.197, 386.197, 390.822, 394.531, 399.74, 404.699, 410.45, 416.159, 421.911, 427.538, 433.747, 442.248, 449.91499999999996, 456.78999999999996, 462.04099999999994, 467.04099999999994, 472.9169999999999, 480.2089999999999, 490.5019999999999, 495.5019999999999, 502.5019999999999, 512.502, 522.502, 532.502, 537.502, 542.502, 547.502, 552.502, 557.502, 562.502, 567.502, 572.502, 577.502, 580.9609999999999, 585.9609999999999, 590.9609999999999]

segments_keys_indexes = [0, 120.0, 240.0, 498.0, 673.0, 793.0, 913.0, 1145.0, 1265.0, 1346.0, 1531.0, 1651.0, 1813.0, 1919.0, 2039.0, 2194.0, 2394.0, 2494.0, 2614.0, 2704.0, 2824.0, 2901.0, 2963.0, 3045.0, 3165.0, 3285.0, 3405.0, 3513.0, 3578.0, 3698.0, 3744.0, 3860.0, 3989.0, 4032.0, 4227.0, 4332.0, 4452.0, 4544.0, 4726.0, 4900.0, 5013.0, 5131.0, 5292.0, 5430.0, 5579.0, 5699.0, 5844.0, 5964.0, 6128.0, 6228.0, 6308.0, 6488.0, 6670.0, 6833.0, 6953.0, 7131.0, 7208.0, 7325.0, 7500.0, 7613.0, 7661.0, 7732.0, 7769.0, 7889.0, 8024.0, 8154.0, 8274.0, 8394.0, 8514.0, 8634.0, 8754.0, 8874.0, 9009.0, 9148.0, 9268.0, 9379.0, 9468.0, 9593.0, 9712.0, 9850.0, 9987.0, 10125.0, 10260.0, 10409.0, 10613.0, 10797.0, 10962.0, 11088.0, 11208.0, 11349.0, 11524.0, 11771.0, 11891.0, 12059.0, 12299.0, 12539.0, 
12779.0, 12899.0, 13019.0, 13139.0, 13259.0, 13379.0, 13499.0, 13619.0, 13739.0, 13859.0, 13942.0, 14062.0, 14182.0]

crf_list = np.ones(len(segments_keys_timestamps))*23

根據這些去跑real encoding然後丟給simulator module
會output出EXCEL的結果
